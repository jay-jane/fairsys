"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[786],{3786:function(e,s,r){r.r(s),r.d(s,{default:function(){return $}});var t=r(6252),a=r(9963),d=r(3577);const u={action:""},i={class:"cont_division"},l=(0,t._)("h3",null,"개인정보수정",-1),o=(0,t._)("label",{for:"user_id"},"아이디 ",-1),n=(0,t._)("label",{for:"user_pw"},"비밀번호 ",-1),_={key:0,style:{color:["red"]}},h={key:1,style:{color:["green"]}},p=(0,t._)("label",{for:"user_pw_re"},"비밀번호 확인 ",-1),c={key:0,style:{color:["red"]}},m={key:1,style:{color:["green"]}},w=(0,t._)("label",{for:"user_name"},"이름 ",-1),g=(0,t._)("label",{for:"user_birth"},"생년월일 ",-1),y=(0,t._)("label",{for:"user_gender"},"성별",-1),b=(0,t._)("label",{for:"user_phone"},"전화번호 ",-1),f=(0,t._)("label",{for:"user_email"},"이메일 ",-1),k=(0,t._)("label",{for:"address"},"주소 ",-1),v=(0,t._)("br",null,null,-1),U=(0,t._)("br",null,null,-1);function F(e,s,r,F,V,x){const q=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("form",u,[(0,t._)("section",null,[(0,t._)("div",i,[l,(0,t._)("div",null,[o,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>V.user_id=e),required:"",type:"text",disabled:""},null,512),[[a.nr,V.user_id]])]),(0,t._)("div",null,[n,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>V.user_pw=e),required:"",type:"password",placeholder:"비밀번호"},null,512),[[a.nr,V.user_pw]]),V.passwordValidFlag||""===this.user_pw?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",_,"유효하지 않은 비밀번호 입니다.")),V.passwordValidFlag&&""!==this.user_pw?((0,t.wg)(),(0,t.iD)("span",h,"유효한 비밀번호 입니다.")):(0,t.kq)("",!0)]),(0,t._)("div",null,[p,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>V.user_pw_re=e),required:"",type:"password",placeholder:"비밀번호 재확인"},null,512),[[a.nr,V.user_pw_re]]),V.passwordCheckFlag||""===this.user_pw_re?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",c,"비밀번호가 다릅니다.")),V.passwordCheckFlag&&""!==this.user_pw_re?((0,t.wg)(),(0,t.iD)("span",m,"비밀번호가 일치합니다.")):(0,t.kq)("",!0)]),(0,t._)("div",null,[w,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>V.user_name=e),required:"",type:"text",disabled:""},null,512),[[a.nr,V.user_name]])]),(0,t._)("div",null,[g,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>V.user_birth=e),required:"",type:"text",disabled:""},null,512),[[a.nr,V.user_birth]])]),y,(0,t._)("div",null,(0,d.zw)(V.user_gender),1),(0,t._)("div",null,[b,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>V.user_phone=e),required:"",type:"text",placeholder:"전화번호를 입력하세요",maxlength:"11"},null,512),[[a.nr,V.user_phone]])]),(0,t._)("div",null,[f,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>V.user_email=e),required:"",type:"email",placeholder:"이메일"},null,512),[[a.nr,V.user_email]])]),(0,t._)("div",null,[k,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=e=>V.user_postcode=e),placeholder:"우편번호"},null,512),[[a.nr,V.user_postcode]]),(0,t._)("input",{type:"button",onClick:s[8]||(s[8]=e=>x.execDaumPostcode()),value:"우편번호 찾기"}),v,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=e=>V.user_address=e),placeholder:"주소"},null,512),[[a.nr,V.user_address]]),U,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=e=>V.user_detail_address=e),placeholder:"상세주소"},null,512),[[a.nr,V.user_detail_address]])]),(0,t._)("button",{type:"button",onClick:s[11]||(s[11]=(...e)=>x.modifyForm&&x.modifyForm(...e))},"수정하기"),(0,t._)("button",{class:"view",onClick:s[12]||(s[12]=(...s)=>e.btn_list&&e.btn_list(...s))},[(0,t.Wm)(q,{to:"/UserMyPage"},{default:(0,t.w5)((()=>[(0,t.Uk)("목록")])),_:1})]),(0,t._)("button",{class:"view",onClick:s[13]||(s[13]=(...e)=>x.deleteUser&&x.deleteUser(...e))},"회원탈퇴")])])])}r(7658);var V=r(6154),x={data(){return{userInfo:"",user_id:"",user_pw:"",user_pw_re:"",user_name:"",user_birth:"",birth:{yyyy:"",mm:"",dd:""},user_gender:"",user_postcode:"",user_address:"",user_detail_address:"",detailAddress:"",user_email:"",user_phone:"",passwordValidFlag:!0,passwordCheckFlag:!0}},methods:{checkPw(){/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$/.test(this.user_pw)?this.passwordValidFlag=!0:this.passwordValidFlag=!1},checkPwRe(){this.user_pw===this.user_pw_re?this.passwordCheckFlag=!0:this.passwordCheckFlag=!1},execDaumPostcode(){new window.daum.Postcode({oncomplete:e=>{""!==this.user_detail_address&&(this.user_detail_address=""),"R"===e.userSelectedType?this.user_address=e.roadAddress:this.user_address=e.jibunAddress,"R"===e.userSelectedType?(""!==e.bname&&/[동|로|가]$/g.test(e.bname)&&(this.user_detail_address+=e.bname),""!==e.buildingName&&"Y"===e.apartment&&(this.user_detail_address+=""!==this.user_detail_address?`, ${e.buildingName}`:e.buildingName),""!==this.user_detail_address&&(this.user_detail_address=`(${this.user_detail_address})`)):this.user_detail_address="",this.user_postcode=e.zonecode}}).open()},deleteUser(){confirm("아이디를 삭제하시겠습니까?")&&this.axios.get("/UserMyPage/deleteForm",{params:{user_id:sessionStorage.getItem("user_id")},headers:{"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("user_auth")}}).then((e=>{alert("아이디가 삭제되었습니다."),sessionStorage.clear(),this.$store.commit("setLogInOut","로그인"),this.$router.push({path:"/"})}))},get(){V.Z.get("/9-1",{params:{user_id:sessionStorage.getItem("user_id")},headers:{"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("user_auth")}}).then((e=>{console.log(e),console.log(e.data),this.birth.yyyy=e.data.user_birth.substr(0,4),this.birth.mm=e.data.user_birth.substr(4,2),this.birth.dd=e.data.user_birth.substr(6,2),this.user_birth=this.birth.yyyy+"년 "+this.birth.mm+"월 "+this.birth.dd+"일",this.user_id=e.data.user_id,this.user_phone=e.data.user_phone,this.user_email=e.data.user_email,this.user_name=e.data.user_name,this.user_gender="M"==e.data.user_gender?"남자":"여자",this.user_postcode=e.data.user_postcode,this.user_address=e.data.user_address,this.user_detail_address=e.data.user_detail_address})).catch((e=>{console.log(e),alert("로그인이 필요한 서비스입니다."),this.$router.push({path:"/2"})}))},async modifyForm(){console.log(1),this.axios.post("/9-1/modifyForm",{user_pw:this.user_pw,user_phone:this.user_phone,user_email:this.user_email,user_postcode:this.user_postcode,user_address:this.user_address,user_detail_address:this.user_detail_address},{params:{user_id:sessionStorage.getItem("user_id")},headers:{"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("user_auth")}}).then((e=>{console.log(e),console.log(e.config.data),alert("정보가 수정되었습니다."),this.$router.push({path:"/"})})).catch((e=>{console.log(e)}))}},watch:{user_pw:function(){this.checkPw()},user_pw_re:function(){this.checkPwRe()}},mounted(){this.get()}},q=r(3744);const C=(0,q.Z)(x,[["render",F]]);var $=C}}]);
//# sourceMappingURL=786.32ff04ab.js.map